// A Pub/Sub Interface
use { error, payload } from types
use * from resources

resource pubsub {
	// creates a handle to a pubsub object
	static open: func(name: string) -> expected<pubsub, error>

	// publish a message to a topic
	publish: func(message: payload, topic: string) -> expected<unit, error> 

	// pull-based message delivery
	receive: func() -> expected<payload, error>
}